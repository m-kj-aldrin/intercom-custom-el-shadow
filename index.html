<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>shadow</title>
        <script src="./src/app.js" type="module"></script>
        <link rel="stylesheet" href="src/style/reset.css" />
        <link rel="stylesheet" href="src/style/main.css" />
    </head>

    <body>
        <!-- - - BASE -->

        <template id="template-BASE">
            <style>
                :host {
                    display: flex;
                    flex-direction: column;
                    gap: 4px;

                    padding: 2px;

                    background-color: hsl(var(--color-white));
                    --border-opacity: 0.05;

                    border: 1px hsl(var(--color-black) / var(--border-opacity))
                        solid;
                    border-radius: 2px;

                    --shadow-opacity: 0.02;
                    --shadow: 0 0 8px 0
                        hsl(var(--color-black) / var(--shadow-opacity));
                }
            </style>
        </template>

        <!-- - - LIST -->

        <template id="template-COM-LIST">
            <style>
                :host {
                    flex-grow: 1;
                    flex-direction: column;
                }
                :host([row]) {
                    flex-direction: row;
                }
            </style>
            <slot></slot>
        </template>

        <!-- - - NETWORK -->

        <template id="template-COM-NETWORK">
            <style>
                :host {
                    flex-grow: 1;
                    padding: 4px;
                }
                com-list {
                    gap: 4px;
                }
            </style>
            <com-list row>
                <slot></slot>
            </com-list>
        </template>

        <!-- - - CHAIN -->

        <template id="template-COM-CHAIN">
            <style>
                :host {
                    box-shadow: var(--shadow);
                }
                com-list.modules {
                    padding: 4px;
                    gap: 4px;
                    --bg-opacity: 0.05;
                    background-color: hsl(
                        var(--color-primary) / var(--bg-opacity)
                    );
                }
                com-list.periphial {
                    flex-grow: 0;
                    border: none;
                }
            </style>
            <com-list class="periphial" row>
                <com-periphial></com-periphial>
                <com-periphial></com-periphial>
            </com-list>
            <com-list class="modules" part="modules">
                <slot></slot>
            </com-list>
        </template>

        <!-- - - MODULE -->

        <template id="template-COM-MODULE">
            <style>
                :host {
                    box-shadow: var(--shadow);
                    position: relative;
                    margin-bottom: 4px;
                    --border-opacity: 0.1;
                    padding: 4px;
                }
                :host::after {
                    position: absolute;
                    content: "";
                    width: 100%;
                    bottom: 0;
                    left: 0;
                    margin-bottom: -5.5px;
                    border-bottom: 1px hsl(var(--color-black) / 0.1) dashed;
                }
                com-list.outs {
                    border: none;
                    flex-direction: row;
                    --bg-opacity: 0.05;
                    background-color: hsl(
                        var(--color-primary) / var(--bg-opacity)
                    );
                    /* padding: 0; */
                    /* gap: 0; */
                }
                com-list.parameters {
                    /* padding: 0; */
                }
                ::slotted(com-out) {
                    /* margin: 2px; */
                }
            </style>
            <slot name="type"></slot>
            <com-list class="parameters">
                <slot name="parameters"></slot>
            </com-list>
            <com-list class="outs" part="outs">
                <slot name="outs"></slot>
            </com-list>
        </template>

        <!-- - - PARAMETER -->

        <template id="template-COM-PARAMETER">
            <style>
                :host {
                    border: none;
                }
                com-list {
                    border: none;
                    flex-direction: row;
                    justify-content: space-between;
                }
                ::slotted(input) {
                    color: currentColor;
                    background-color: hsl(var(--color-white));
                    border: none;
                    border-bottom: 1px currentColor solid;
                    width: 6ch;
                }
            </style>
            <com-list>
                <slot name="name"></slot>
                <slot></slot>
            </com-list>
        </template>

        <!-- - - OUT -->

        <template id="template-COM-OUT">
            <style>
                :host {
                    flex-direction: row;
                    align-items: center;
                    box-shadow: var(--shadow);
                }
                span {
                    min-width: 24px;
                    aspect-ratio: 1/1;

                    font-size: 1.25em;

                    display: grid;
                    place-content: center;
                }
                com-list {
                    border: none;
                    flex-shrink: 1;
                    flex-basis: 0;
                    flex-grow: 0;
                }
                select {
                    color: currentColor;
                    font-size: 0.5em;
                    appearance: none;
                    border: none;
                    border-radius: 0;
                    border-bottom: 1px currentColor solid;
                    background-color: hsl(var(--color-white));
                    width: max-content;
                }
            </style>

            <span>&DownTeeArrow;</span>

            <com-list row>
                <select name="pid">
                    <option value="0">0</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                    <option value="7">7</option>
                </select>
                <select name="ch">
                    <option value="0">0</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                    <option value="7">7</option>
                </select>
            </com-list>
        </template>

        <!-- - - PERIPHIAL -->

        <template id="template-COM-PERIPHIAL">
            <style>
                com-list {
                    border: none;
                }
                select {
                    cursor: pointer;
                    /* min-width: 7ch; */
                    color: currentColor;
                    font-size: 0.5em;
                    appearance: none;
                    border: none;
                    border-radius: 0;
                    border-bottom: 1px currentColor solid;
                    background-color: hsl(var(--color-white));
                    width: max-content;
                }
            </style>

            <com-list row>
                <select name="pid">
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                    <option value="7">7</option>
                    <option value="8">8</option>
                </select>
                <select name="ch">
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                    <option value="7">7</option>
                    <option value="8">8</option>
                </select>
            </com-list>
        </template>
    </body>
</html>
